//= depend_on_asset jquery/dist/jquery
//= depend_on_asset modules/FurtherInfo
//= depend_on_asset modules/SearchFilter
//= depend_on_asset modules/NestedOptions

<%
  def requirejs_path(asset)
    javascript_path(asset).sub(/.js\z/, '')
  end

  requirejs_config = {
    paths: {
      jquery: requirejs_path('jquery/dist/jquery'),
      FurtherInfo: requirejs_path('modules/FurtherInfo'),
      SearchFilter: requirejs_path('modules/SearchFilter'),
      NestedOptions: requirejs_path('modules/NestedOptions'),
      ResultsFilter: requirejs_path('modules/ResultsFilter'),
      EducationModule: requirejs_path('modules/EducationModule')
    }
  }
%>

// If requirejs is present convert the requirejs_config hash to a JSON object
if(window.requirejs) {
  requirejs.config(<%= JSON.pretty_generate(requirejs_config) %>);
}
